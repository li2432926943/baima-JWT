import{u as P,b as v,d as w,r,o as R,c as E,e as o,a as l,f as i,w as n,g as F,l as J,h as N,i as p,j as U,E as b}from"./index-c67db3df.js";import{a as x}from"./anime-bg-a5ff5050.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const K={class:"login-container"},T={class:"login-banner"},j={class:"login-form-container"},I={class:"login-form-wrapper"},M={class:"login-options"},z={__name:"LoginPage",setup(A){const u=P(),d=v(null),a=v(!1),s=w({username:"",password:"",remember:!0}),V=w({username:[{required:!0,message:"请输入用户名或邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),c=async()=>{d.value&&await d.value.validate(f=>{f&&(a.value=!0,U(s.username,s.password,s.remember,()=>{a.value=!1,u.push("/index")},e=>{a.value=!1,e.includes("用户名")||e.includes("密码")?b.error("用户名或密码错误，请重新输入"):b.error(e||"登录失败，请稍后再试")}))})},k=()=>{u.push("/forget")},y=()=>{u.push({name:"welcome-register"})};return(f,e)=>{const C=r("el-image"),g=r("el-input"),_=r("el-form-item"),B=r("el-checkbox"),m=r("el-button"),L=r("el-form");return R(),E("div",K,[o("div",T,[l(C,{class:"background-image",src:i(x),fit:"cover","preview-teleported":!0,"preview-src-list":[i(x)]},null,8,["src","preview-src-list"]),e[3]||(e[3]=o("div",{class:"welcome-text"},[o("h1",null,"欢迎来到我们的学习平台"),o("p",null,"在这里你可以学习如何使用Java，如何搭建网站，并且与Java之父密切交流。"),o("p",null,"在这里你可以同性交友，因为都是男的，没有学Java的女生。")],-1))]),o("div",j,[o("div",I,[e[8]||(e[8]=o("h2",{class:"login-title"},"登录",-1)),e[9]||(e[9]=o("p",{class:"login-desc"},"在进入系统之前请先输入用户名和密码进行登录",-1)),l(L,{model:s,class:"login-form",rules:V,ref_key:"loginFormRef",ref:d},{default:n(()=>[l(_,{prop:"username"},{default:n(()=>[l(g,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t),"prefix-icon":i(F),placeholder:"用户名/邮箱"},null,8,["modelValue","prefix-icon"])]),_:1}),l(_,{prop:"password"},{default:n(()=>[l(g,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),"prefix-icon":i(J),type:"password",placeholder:"密码",onKeyup:N(c,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),o("div",M,[l(B,{modelValue:s.remember,"onUpdate:modelValue":e[2]||(e[2]=t=>s.remember=t),label:"记住我"},null,8,["modelValue"]),l(m,{type:"text",onClick:k},{default:n(()=>e[4]||(e[4]=[p("忘记密码?")])),_:1})]),l(m,{type:"primary",class:"login-button",loading:a.value,onClick:c},{default:n(()=>e[5]||(e[5]=[p("立即登录")])),_:1},8,["loading"]),e[7]||(e[7]=o("div",{class:"divider"},[o("span",null,"没有账号")],-1)),l(m,{class:"register-button",onClick:y},{default:n(()=>e[6]||(e[6]=[p("注册账号")])),_:1})]),_:1},8,["model","rules"])])])])}}},O=q(z,[["__scopeId","data-v-0e03ef85"]]);export{O as default};
